{"kind":"article","schemaVersion":{"major":0,"patch":0,"minor":3},"sections":[],"abstract":[{"type":"text","text":"Learn how to authenticate with Spotify using PKCE, Authorization Code, or Client Credentials flows."}],"hierarchy":{"paths":[["doc:\/\/com.spotify.webapi\/documentation\/SpotifyWebAPI"]]},"primaryContentSections":[{"content":[{"type":"heading","text":"Overview","anchor":"Overview","level":2},{"type":"paragraph","inlineContent":[{"text":"SpotifyWebAPI supports all three OAuth 2.0 flows provided by Spotify. Choose the flow that matches your application type.","type":"text"}]},{"type":"heading","text":"PKCE Flow","anchor":"PKCE-Flow","level":2},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Best for","type":"text"}]},{"type":"text","text":": Mobile apps, single-page applications, and any public client that cannot securely store a client secret."}]},{"type":"heading","text":"Setup","anchor":"Setup","level":3},{"type":"codeListing","code":["let client = SpotifyClient.pkce(","    clientID: \"your-client-id\",","    redirectURI: URL(string: \"myapp:\/\/callback\")!,","    scopes: [.userReadPrivate, .playlistModifyPublic]",")"],"syntax":"swift"},{"type":"heading","text":"Authorization Flow","anchor":"Authorization-Flow","level":3},{"type":"codeListing","code":["\/\/ 1. Generate authorization URL","let authURL = try client.backend.makeAuthorizationURL()","","\/\/ 2. Open URL in browser\/web view","\/\/ User authorizes your app","","\/\/ 3. Handle callback","let tokens = try await client.backend.handleCallback(callbackURL)","","\/\/ 4. Client is now authenticated","let profile = try await client.users.me()"],"syntax":"swift"},{"type":"heading","text":"Authorization Code Flow","anchor":"Authorization-Code-Flow","level":2},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Best for","type":"text"}]},{"type":"text","text":": Server-side applications that can securely store a client secret."}]},{"type":"heading","text":"Setup","anchor":"Setup","level":3},{"type":"codeListing","code":["let client = SpotifyClient.authorizationCode(","    clientID: \"your-client-id\",","    clientSecret: \"your-client-secret\",","    redirectURI: URL(string: \"https:\/\/myapp.com\/callback\")!,","    scopes: [.userReadPrivate, .playlistModifyPublic]",")"],"syntax":"swift"},{"type":"heading","text":"Authorization Flow","anchor":"Authorization-Flow","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"Same as PKCE, but uses client secret for token exchange."}]},{"type":"heading","text":"Client Credentials Flow","anchor":"Client-Credentials-Flow","level":2},{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Best for","type":"text"}],"type":"strong"},{"text":": Server-to-server applications that donâ€™t need user-specific data.","type":"text"}]},{"type":"heading","text":"Setup","anchor":"Setup","level":3},{"type":"codeListing","code":["let client = SpotifyClient.clientCredentials(","    clientID: \"your-client-id\",","    clientSecret: \"your-client-secret\"",")"],"syntax":"swift"},{"type":"heading","text":"Usage","anchor":"Usage","level":3},{"type":"codeListing","code":["\/\/ No authorization flow needed","\/\/ Tokens are automatically obtained","","let album = try await client.albums.get(\"album-id\")","let results = try await client.search.execute(query: \"Queen\", types: [.artist])"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Note","type":"text"}],"type":"strong"},{"text":": Client Credentials flow only provides access to public data. User-specific endpoints (like playlists, library) are not available.","type":"text"}]},{"type":"heading","text":"Scopes","anchor":"Scopes","level":2},{"type":"paragraph","inlineContent":[{"text":"Request only the scopes your app needs:","type":"text"}]},{"type":"codeListing","code":["let scopes: Set<SpotifyScope> = [","    .userReadPrivate,           \/\/ Read user profile","    .userReadEmail,             \/\/ Read user email","    .playlistReadPrivate,       \/\/ Read private playlists","    .playlistModifyPublic,      \/\/ Modify public playlists","    .playlistModifyPrivate,     \/\/ Modify private playlists","    .userLibraryRead,           \/\/ Read saved albums\/tracks","    .userLibraryModify,         \/\/ Save\/remove albums\/tracks","    .userReadPlaybackState,     \/\/ Read playback state","    .userModifyPlaybackState,   \/\/ Control playback","    .userReadRecentlyPlayed,    \/\/ Read recently played","    .userTopRead                \/\/ Read top artists\/tracks","]"],"syntax":"swift"},{"type":"heading","text":"Token Management","anchor":"Token-Management","level":2},{"type":"paragraph","inlineContent":[{"text":"Tokens are automatically refreshed when expired. You can also monitor token expiration:","type":"text"}]},{"type":"codeListing","code":["client.onTokenExpiring { expiresIn in","    if expiresIn < 300 {","        print(\"Token expires in \\(expiresIn) seconds\")","    }","}"],"syntax":"swift"}],"kind":"content"}],"metadata":{"roleHeading":"Article","role":"article","title":"Authentication"},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/com.spotify.webapi\/documentation\/SpotifyWebAPI\/Authentication"},"references":{"doc://com.spotify.webapi/documentation/SpotifyWebAPI":{"kind":"article","title":"SpotifyWebAPI","abstract":[],"url":"\/documentation\/spotifywebapi","role":"collection","identifier":"doc:\/\/com.spotify.webapi\/documentation\/SpotifyWebAPI","type":"topic"}}}